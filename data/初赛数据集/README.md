# 京东多智能体挑战赛

## 项目文件结构

```
项目根目录/
├── desensitize_data.py        # 数据脱敏脚本（核心工具）
├── README.md                  # 项目说明文档（本文件）
├── test/                      # 测试集目录
│   └── data.jsonl             # 测试集数据（无 answer/steps 字段）
│   └── files            # 问题附加文件
├── valid/                     # 验证集目录
│   └── data.jsonl             # 验证集数据（含 answer/steps 字段）
│   └── files            # 问题附加文件
```

## 项目概述

“京东多智能体挑战赛”旨在推动人工智能（Artificial Intelligence, AI）技术在实际生产与生活场景中的应用创新，探索多智能体在复杂业务场景下的协同决策能力。赛题要求参赛者基于京东零售开源的多智能体（Multi-Agent）协作框架OxyGent，构建高效协作的多智能体系统，以应对现实环境中的不确定性和多目标优化问题。

## 赛题任务

- **竞赛评测方式**：本次竞赛采用公开验证集（Validation Set）和私有测试集（Test Set）相结合的评测方式，确保模型调优的科学性与最终能力的公正评估。
- **任务体系设计**：为全面考察多智能体系统的综合能力，赛题设计了分级任务体系，并覆盖多种实际应用场景。

### 1. 分级任务体系

- **级别1（基础）**：要求智能体依托大语言模型（LLM）或基础工具，完成基本推理与信息处理任务。
- **级别2（进阶）**：要求智能体能够准确调用多类工具，并整合多源信息，提升任务完成的准确性和效率。
- **级别3（复杂）**：要求智能体实现复杂的多步规划、深度推理及高效协作，解决更具挑战性的实际问题。

### 2. 任务类别及应用场景

- **多模态内容理解**：精准解析文本、图像、音频、PDF文档、表格及网页等多模态信息，实现商品详情页图文、用户评论、视频内容的深度理解与结构化信息提取。
- **复杂信息检索**：智能体自主操作浏览器，进行高效、精准的信息搜索，整合多源数据，完成语义提炼与知识聚合，适用于用户评论分析、商品属性比对等复杂检索任务。
- **逻辑推理**：针对如促销策略制定、供应链调度优化等复杂任务，智能体需进行多步逻辑推理与因果分析，生成可靠决策方案或解决路径。
- **代码生成与执行**：动态生成代码以操作系统文件、处理数据集、完成数学计算及算法实现，支持如销售数据分析等实际应用场景。
- **终端交互与执行**：智能体可执行系统命令及调用外部工具，实现自动化流程控制、任务调度与环境交互，广泛应用于京东电商场景下的自动化运营流程等任务。

## 数据说明

### 1. 核心文件清单

| 文件名                | 作用描述                                                     | 关键说明                            |
| :-------------------- | :----------------------------------------------------------- | :---------------------------------- |
| `data.jsonl`          | 主数据文件（分验证集/测试集版本），每行存储1个JSON对象，包含任务核心信息 | 验证集包含 `answer` 与 `steps` 字段 |
| `desensitize_data.py` | Python脱敏脚本                                               | 仅处理 `local_es_data` 目录数据     |

### 2. 数据字段详解

| 字段名称    | 数据类型     | 描述                                                   | 存在范围     |
| :---------- | :----------- | :----------------------------------------------------- | :----------- |
| `query`     | 字符串       | 待解决的任务问题                                       | 所有任务     |
| `level`     | 字符串或数字 | 任务难度等级                                           | 所有任务     |
| `task_id`   | 字符串       | 任务唯一标识符（如 `task_id_xxx`），用于结果匹配       | 所有任务     |
| `file_name` | 字符串       | 可选字段，部分任务附带的关联文件名（用于匹配补充文件） | 部分任务     |
| `answer`    | 字符串       | 任务真实答案（用于参赛者验证）                         | **仅验证集** |
| `steps`     | 字符串       | 完成任务的预估步骤                                     | **仅验证集** |

### 3. 数据内容与划分

数据覆盖京东电商场景及教育、金融等通用场景，包含商品详情页图文/视频、用户评论、浏览器检索信息等多源内容，用于支撑智能体多模态理解、复杂检索等核心功能，服务评论分析、供应链优化、自动化运营等场景化任务。

| 数据集类型 | 样本数量 | 核心用途               | 关键差异                   |
| :--------- | :------- | :--------------------- | :------------------------- |
| 验证集     | 100条    | 效果验证、多智能体调优 | 含 `answer` / `steps` 字段 |
| 测试集     | 200条    | 最终评估、竞赛排名     | 无 `answer` / `steps` 字段 |

## 数据预处理与脱敏

### 1. 实验命名规范

每次启动新实验前，需配置应用名称（用于区分不同实验的脱敏文件）：

```
# 示例：在主函数里配置本次实验名称为 "task_1_v1"（建议格式：任务编号+版本号）
Config.set_app_name('task_1_v1')
```

### 2. 脱敏处理流程（必做）

需先对 `./cache_dir/local_es_data/` 目录下的原始数据脱敏，仅保留当前实验相关文件并打包：

```
# 1. 运行脱敏脚本（指定数据目录与实验名称，生成以 "task_1_v1" 开头的脱敏文件, 可配置sensitive_fields增加脱敏字段）
python desensitize_data.py --directory=./cache_dir/local_es_data/ --prefix=task_1_v1 

# 2. 脱敏文件在新的默认脱敏目录下
./cache_dir/local_es_data/local_es_data/   

```

## 提交指南

### 1. 提交内容清单

| 竞赛阶段 | 需提交文件                                                   | 说明                                                         |
| :------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 初赛     | ① 测试集预测结果（单个JSONL文件，命名建议：`result.jsonl`）   | / |
| 复现     | ①初赛最好成绩对应的预测结果文件和 `local_es_data.zip`（脱敏文件包）② 完整复现包（含算法文档、源代码、依赖配置等） | 复现包需含 `requirements.txt`（明确依赖版本），确保算法可运行 |
| 决赛     | ①以后续通知为准 | / |

### 2. 结果文件格式规范（核心）

#### （1）格式示例

提交文件为 **JSON行文件（JSON Lines）**（每行1个任务结果），需满足：

- `task_id`：完整覆盖测试集所有ID，无重复、无遗漏。
- `answer`：必填，模型生成的最终答案（需与任务要求的答案类型一致）。

```
{"task_id": "task_id_1", "answer": "模型生成的答案1"}
{"task_id": "task_id_2", "answer": "模型生成的答案2"}
```

#### （2）评测标准

- **核心指标**：**完全匹配准确率**（计算正确答案百分比）。
- **匹配规则**：模型输出与真实标注将进行「准精确匹配」—— 会根据答案类型（字符串/数字/列表等）做规范化处理（如去除首尾空格、统一数字格式）后比对。
- **答案类型**：支持单个/多个单词、数字、逗号分隔字符串、浮点数列表，每个问题仅有1个正确答案。


### 4. 提交注意事项

1. **公平竞争**：严禁作弊（如泄露标注数据、篡改实验结果等），一经发现将取消竞赛资格。
2. **可复现性**：决赛提交的复现包需提供清晰的运行文档（含依赖版本、执行步骤、参数说明等文件），无法复现的方案将取消排名。
3. **格式校验**：提交前需通过JSON格式校验工具检查 `result.jsonl` 合法性，确保无语法错误；同时核对 `task_id` 与测试集一致（200个）。

